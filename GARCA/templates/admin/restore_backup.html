{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<h1>{% trans 'Restaurar Copia de Seguridad' %}</h1>

{% if messages %}
    <ul class="messagelist">
    {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
    </ul>
{% endif %}

<div class="module">
    <h2>{% trans 'Subir archivo de copia de seguridad (.zip)' %}</h2>
    <p><strong>{% trans '¡ADVERTENCIA!' %}</strong> {% trans 'Restaurar una copia de seguridad reemplazará TODOS los datos actuales de la base de datos con el contenido del archivo. Esta acción no se puede deshacer.' %}</p>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-row">
            <label for="backup_file">{% trans 'Archivo de Backup (.zip):' %}</label>
            <input type="file" name="backup_file" accept=".zip" required id="id_backup_file">
        </div>
        <div class="submit-row">
            <input type="submit" value="{% trans 'Restaurar Ahora' %}" class="default" onclick="return confirm('¿Estás SEGURO de que quieres reemplazar TODOS los datos actuales con esta copia de seguridad? Esta acción es IRREVERSIBLE.');">
        </div>
    </form>
</div>
{% endblock %}
